<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>组件化开发 | codertao</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="了解真相才能获得真正的自由">
    
    <link rel="preload" href="/assets/css/0.styles.9b7d3967.css" as="style"><link rel="preload" href="/assets/js/app.cce02172.js" as="script"><link rel="preload" href="/assets/js/2.032fb0bf.js" as="script"><link rel="preload" href="/assets/js/12.c2046a5b.js" as="script"><link rel="prefetch" href="/assets/js/10.d8f1d890.js"><link rel="prefetch" href="/assets/js/11.39c93d2d.js"><link rel="prefetch" href="/assets/js/13.4aa6aba2.js"><link rel="prefetch" href="/assets/js/14.8c348e89.js"><link rel="prefetch" href="/assets/js/15.67da5716.js"><link rel="prefetch" href="/assets/js/16.38de6d77.js"><link rel="prefetch" href="/assets/js/17.de68e383.js"><link rel="prefetch" href="/assets/js/18.ffcb35fb.js"><link rel="prefetch" href="/assets/js/19.c293a8f3.js"><link rel="prefetch" href="/assets/js/20.4ab530a4.js"><link rel="prefetch" href="/assets/js/21.9c537178.js"><link rel="prefetch" href="/assets/js/22.53d48f8d.js"><link rel="prefetch" href="/assets/js/23.054c7aea.js"><link rel="prefetch" href="/assets/js/24.8852dd09.js"><link rel="prefetch" href="/assets/js/25.ac8703c9.js"><link rel="prefetch" href="/assets/js/26.4b01e35e.js"><link rel="prefetch" href="/assets/js/27.1266c52f.js"><link rel="prefetch" href="/assets/js/28.4d1528d3.js"><link rel="prefetch" href="/assets/js/29.ff9a0adf.js"><link rel="prefetch" href="/assets/js/3.c1c781b1.js"><link rel="prefetch" href="/assets/js/30.f6827ee8.js"><link rel="prefetch" href="/assets/js/31.c07bebee.js"><link rel="prefetch" href="/assets/js/32.bf23ad86.js"><link rel="prefetch" href="/assets/js/33.0f46e884.js"><link rel="prefetch" href="/assets/js/34.e0ae61ac.js"><link rel="prefetch" href="/assets/js/35.41b47a1e.js"><link rel="prefetch" href="/assets/js/36.8fc3e8af.js"><link rel="prefetch" href="/assets/js/37.77373176.js"><link rel="prefetch" href="/assets/js/38.638c0158.js"><link rel="prefetch" href="/assets/js/39.bfd41933.js"><link rel="prefetch" href="/assets/js/4.c7abab7a.js"><link rel="prefetch" href="/assets/js/40.c898e595.js"><link rel="prefetch" href="/assets/js/41.f517ff43.js"><link rel="prefetch" href="/assets/js/42.7fccb977.js"><link rel="prefetch" href="/assets/js/43.22016df4.js"><link rel="prefetch" href="/assets/js/44.ea73cc06.js"><link rel="prefetch" href="/assets/js/45.c2128fe1.js"><link rel="prefetch" href="/assets/js/46.576e71f2.js"><link rel="prefetch" href="/assets/js/47.28527204.js"><link rel="prefetch" href="/assets/js/48.2979bc6b.js"><link rel="prefetch" href="/assets/js/49.64a2e7e2.js"><link rel="prefetch" href="/assets/js/5.5858aec4.js"><link rel="prefetch" href="/assets/js/50.c12dc9fb.js"><link rel="prefetch" href="/assets/js/51.7bf924a9.js"><link rel="prefetch" href="/assets/js/52.731618a8.js"><link rel="prefetch" href="/assets/js/53.0a222970.js"><link rel="prefetch" href="/assets/js/54.e550d080.js"><link rel="prefetch" href="/assets/js/55.1376558e.js"><link rel="prefetch" href="/assets/js/56.523f0205.js"><link rel="prefetch" href="/assets/js/57.60541360.js"><link rel="prefetch" href="/assets/js/58.7df5fa3f.js"><link rel="prefetch" href="/assets/js/59.990c8d89.js"><link rel="prefetch" href="/assets/js/6.afd64bd9.js"><link rel="prefetch" href="/assets/js/60.9dc8f8b9.js"><link rel="prefetch" href="/assets/js/61.47117dc1.js"><link rel="prefetch" href="/assets/js/62.bbd869e3.js"><link rel="prefetch" href="/assets/js/63.84379b47.js"><link rel="prefetch" href="/assets/js/64.22b4e7df.js"><link rel="prefetch" href="/assets/js/7.f60abe3c.js"><link rel="prefetch" href="/assets/js/8.0a248701.js"><link rel="prefetch" href="/assets/js/9.abb5c751.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9b7d3967.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">codertao</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          前端基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontEnd/basics/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-subitem"><a href="/frontEnd/basics/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-subitem"><a href="/frontEnd/basics/javascript/" class="nav-link">
  JavaScript
</a></li></ul></li><li class="dropdown-item"><h4>
          JS框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontEnd/frame/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-subitem"><a href="/frontEnd/frame/react/" class="nav-link">
  React
</a></li></ul></li><li class="dropdown-item"><h4>
          打包工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontEnd/pack/webpack/" class="nav-link">
  Webpack
</a></li><li class="dropdown-subitem"><a href="/frontEnd/pack/vite/" class="nav-link">
  Vite
</a></li></ul></li><li class="dropdown-item"><h4>
          小程序
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/applet/native/" class="nav-link router-link-active">
  原生
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/dataStructure/" class="nav-link">
  数据结构
</a></div><div class="nav-item"><a href="/share/" class="nav-link">
  优文转载
</a></div><div class="nav-item"><a href="/essay/" class="nav-link">
  随笔
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具箱" class="dropdown-title"><span class="title">工具箱</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具箱" class="mobile-dropdown-title"><span class="title">工具箱</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          在线编辑
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://tinypng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片压缩
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          日常分享
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mukbang/" class="nav-link">
  吃播集锦
</a></li><li class="dropdown-subitem"><a href="/movies/" class="nav-link">
  电影分享
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/likesandy" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  关于
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          前端基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontEnd/basics/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-subitem"><a href="/frontEnd/basics/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-subitem"><a href="/frontEnd/basics/javascript/" class="nav-link">
  JavaScript
</a></li></ul></li><li class="dropdown-item"><h4>
          JS框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontEnd/frame/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-subitem"><a href="/frontEnd/frame/react/" class="nav-link">
  React
</a></li></ul></li><li class="dropdown-item"><h4>
          打包工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/frontEnd/pack/webpack/" class="nav-link">
  Webpack
</a></li><li class="dropdown-subitem"><a href="/frontEnd/pack/vite/" class="nav-link">
  Vite
</a></li></ul></li><li class="dropdown-item"><h4>
          小程序
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/applet/native/" class="nav-link router-link-active">
  原生
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/dataStructure/" class="nav-link">
  数据结构
</a></div><div class="nav-item"><a href="/share/" class="nav-link">
  优文转载
</a></div><div class="nav-item"><a href="/essay/" class="nav-link">
  随笔
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具箱" class="dropdown-title"><span class="title">工具箱</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具箱" class="mobile-dropdown-title"><span class="title">工具箱</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          在线编辑
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://tinypng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  图片压缩
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          日常分享
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/mukbang/" class="nav-link">
  吃播集锦
</a></li><li class="dropdown-subitem"><a href="/movies/" class="nav-link">
  电影分享
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/likesandy" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>邂逅小程序</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/applet/native/" aria-current="page" class="sidebar-link">敬请期待</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>你好,小程序</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/applet/native/helloApplet.html" class="sidebar-link">敬请期待</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>小程序架构</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/applet/native/architecture.html" class="sidebar-link">敬请期待</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>常见内置组件</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/applet/native/qwnComponent.html" class="sidebar-link">敬请期待</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>WXSS&amp;WXML&amp;WXS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/applet/native/wxss.html" class="sidebar-link">wxss</a></li><li><a href="/applet/native/wxml.html" class="sidebar-link">wxml</a></li><li><a href="/applet/native/wxs.html" class="sidebar-link">wxs</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>事件处理</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/applet/native/handleEvent.html" class="sidebar-link">事件系统</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>自定义组件</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/applet/native/customComponent.html" aria-current="page" class="active sidebar-link">组件化开发</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/applet/native/customComponent.html#什么是组件化" class="sidebar-link">什么是组件化？</a></li><li class="sidebar-sub-header"><a href="/applet/native/customComponent.html#小程序组件化思想" class="sidebar-link">小程序组件化思想</a></li><li class="sidebar-sub-header"><a href="/applet/native/customComponent.html#使用自定义组件和细节注意事项" class="sidebar-link">使用自定义组件和细节注意事项</a></li><li class="sidebar-sub-header"><a href="/applet/native/customComponent.html#组件的样式细节" class="sidebar-link">组件的样式细节</a></li><li class="sidebar-sub-header"><a href="/applet/native/customComponent.html#样式的相互影响" class="sidebar-link">样式的相互影响</a></li><li class="sidebar-sub-header"><a href="/applet/native/customComponent.html#组件和页面通信" class="sidebar-link">组件和页面通信</a></li><li class="sidebar-sub-header"><a href="/applet/native/customComponent.html#插槽" class="sidebar-link">插槽</a></li><li class="sidebar-sub-header"><a href="/applet/native/customComponent.html#component-构造器" class="sidebar-link">Component 构造器</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="什么是组件化"><a href="#什么是组件化" class="header-anchor">#</a> 什么是组件化？</h2> <ul><li><p>人面对复杂问题的处理方式：</p> <ul><li>任何一个人处理信息的逻辑能力都是有限的</li> <li>所以，当面对一个非常复杂的问题时，我们不太可能一次性搞定一大
堆的内容。</li> <li>但是，我们人有一种天生的能力，就是将问题进行拆解。</li> <li>如果将一个复杂的问题，拆分成很多个可以处理的小问题，再将其放
在整体当中，你会发现大的问题也会迎刃而解。</li></ul></li> <li><p>组件化也是类似的思想：</p> <ul><li>如果我们将一个页面中所有的处理逻辑全部放在一起，处理起来
就会变得非常复杂，而且不利于后续的管理以及扩展。</li> <li>但如果，我们讲一个页面拆分成一个个小的功能块，每个功能块
完成属于自己这部分独立的功能，那么之后整个页面的管理和维
护就变得非常容易了。</li></ul></li></ul> <p><img src="/applet/native/25.png" alt=""></p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>现在前端基本都是组件化开发,像 Vue,React 里讲的组件化开发都是一样的</p></div> <h2 id="小程序组件化思想"><a href="#小程序组件化思想" class="header-anchor">#</a> 小程序组件化思想</h2> <ul><li><p>小程序在<strong>刚刚推出</strong>时是不支持组件化的, 也是为人诟病的一个点.</p> <ul><li>但是从 <strong>v1.6.3</strong> 开始, 小程序开始支持自定义组件开发, 也让我们更加方便的在程序中使用组件化.</li></ul></li></ul> <p><img src="/applet/native/26.png" alt=""></p> <ul><li>组件化思想的应用：
<ul><li>有了组件化的思想，我们在之后的开发中就要充分的利用它。</li> <li>尽可能的将页面拆分成一个个小的、<code>可复用</code>的组件。</li> <li>这样让我们的代码更加<code>方便组织和管理</code>，并且<code>扩展性也更强</code>。</li></ul></li> <li>所以，组件是目前小程序开发中，非常重要的一个篇章，要认真学习。</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--components/my-cpn/my-cpn.wxml--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我是自定义组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-css extra-class"><pre class="language-css"><code><span class="token comment">/* components/my-cpn/my-cpn.wxss */</span>
<span class="token selector">.title</span> <span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 30rpx<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">// my-cpn.json</span>

<span class="token comment">// 创建的时候会自动添加上开启自定义组件选项</span>
<span class="token punctuation">{</span>
  <span class="token comment">// 开启自定义组件选项</span>
  <span class="token property">&quot;component&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;usingComponents&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>自定义组件就创建好了,接下来我们就在 home 界面中使用一下自定义组件</p> <p>使用组件首先需要<strong>先注册组件</strong></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">// home.json</span>
<span class="token punctuation">{</span>
  <span class="token comment">// 注册组件</span>
  <span class="token property">&quot;usingComponents&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// &quot;key&quot;:&quot;value&quot;</span>
    <span class="token property">&quot;自定义组建的标签名&quot;</span><span class="token operator">:</span><span class="token string">&quot;自定义组件的路径(相对/绝对)&quot;</span>
    <span class="token property">&quot;my-cpn&quot;</span><span class="token operator">:</span><span class="token string">&quot;/components/my-cpn/my-cpn&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--  pages/home/home.wxml --&gt;</span>

<span class="token comment">&lt;!-- 使用自定义组件 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-cpn</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-cpn</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-cpn</span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p><img src="/applet/native/27.png" alt=""></p> <h2 id="使用自定义组件和细节注意事项"><a href="#使用自定义组件和细节注意事项" class="header-anchor">#</a> 使用自定义组件和细节注意事项</h2> <ul><li>一些需要注意的细节：
<ul><li>因为 WXML 节点标签名只能是 小写字母、中划线和下划线(我试了一下数字也可以) 的组合，所以自定义组件的标签名也只能包含这些
字符。</li> <li>自定义组件也是可以引用自定义组件的，引用方法类似于页面引用自定义组件的方式（使用
usingComponents 字段）。</li> <li>自定义组件和页面所在项目根目录名 不能以“wx-”为前缀，否则会报错。</li> <li>如果在 app.json 的 usingComponents 声明某个组件，那么所有页面和组件可以直接使用该组件。</li></ul></li></ul> <p>下面先来试一下自定义组件中使用其他自定义组件</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--components/cpn1/cpn1.wxml--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我是cpn1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-css extra-class"><pre class="language-css"><code><span class="token comment">/* components/cpn1/cpn1.wxss */</span>
<span class="token selector">.title</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>要在 my-cpn 组件中使用 cpn1 组件</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">// my-cpn.json</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;component&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;usingComponents&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;cpn1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/components/cpn1/cpn1&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--components/my-cpn/my-cpn.wxml--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我是自定义组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cpn1</span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><div class="language-css extra-class"><pre class="language-css"><code><span class="token comment">/* components/my-cpn/my-cpn.wxss */</span>
<span class="token selector">.title</span> <span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 30rpx<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>最后在 home 中使用 my-cpn 组件</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">// home.json</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;usingComponents&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;my-cpn&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/components/my-cpn/my-cpn&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-cpn</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-cpn</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-cpn</span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p><img src="/applet/native/28.png" alt=""></p> <p>如果一个组件想要在多个页面被使用,一个一个注册就很麻烦,这个时候就可以在 app.json 里面全局注册</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">// home.json</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;usingComponents&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">// app.json</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;usingComponents&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;my-cpn&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/components/my-cpn/my-cpn&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--  pages/home/home.wxml --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-cpn</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-cpn</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-cpn</span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p><img src="/applet/native/28.png" alt=""></p> <h2 id="组件的样式细节"><a href="#组件的样式细节" class="header-anchor">#</a> 组件的样式细节</h2> <ul><li>课题一：组件内的样式 对 外部样式 的影响
<ul><li>结论一：组件内的 class 样式，只对组件 wxml 内的节点生效, 对于引用组件的 Page 页面不生效。</li> <li>结论二：组件内不能使用 id 选择器、属性选择器、标签选择器</li></ul></li> <li>课题二：外部样式 对 组件内样式 的影响
<ul><li>结论一：外部使用 class 的样式，只对外部 wxml 的 class 生效，对组件内是不生效的</li> <li>结论二：外部使用了 id 选择器、属性选择器不会对组件内产生影响</li> <li>结论三：外部使用了标签选择器，会对组件内产生影响</li></ul></li> <li>整体结论:
<ul><li>组件内的 class 样式和组件外的 class 样式, 默认是有一个隔离效果的；</li> <li>为了防止样式的错乱，官方不推荐使用 id、属性、标签选择器；</li></ul></li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--components/my-style/my-style.wxml--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我是标题<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-css extra-class"><pre class="language-css"><code><span class="token comment">/* components/my-style/my-style.wxss */</span>
<span class="token selector">.title</span> <span class="token punctuation">{</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> 600<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">// home.json</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;usingComponents&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;my-style&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/components/my-style/my-style&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--  pages/home/home.wxml --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Hello World<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-style</span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><div class="language-css extra-class"><pre class="language-css"><code><span class="token comment">/* pages/home/home.wxss */</span>
<span class="token selector">.title</span> <span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 50rpx<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/applet/native/29.png" alt=""></p> <h2 id="样式的相互影响"><a href="#样式的相互影响" class="header-anchor">#</a> 样式的相互影响</h2> <ul><li>课题三：如何让 class 可以相互影响</li> <li>在 Component 对象中，可以传入一个 options 属性，其中 options 属性中有一个 styleIsolation（隔离）属性。
styleIsolation 有三个取值：
<ul><li>isolated 表示启用样式隔离，在自定义组件内外，使用 class 指定的样式将不会相互影响（默认取值）；</li> <li>apply-shared 表示页面 wxss 样式将影响到自定义组件，但自定义组件 wxss 中指定的样式不会影响页面；</li> <li>shared 表示页面 wxss 样式将影响到自定义组件，自定义组件 wxss 中指定的样式也会影响页面和其他设置
了</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// components/my-style/my-style.js</span>
options<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// 默认</span>
  <span class="token comment">// styleIsolation: 'isolated'</span>
  styleIsolation<span class="token operator">:</span> <span class="token string">&quot;apply-shared&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// styleIsolation: &quot;shared&quot;,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p><img src="/applet/native/30.png" alt=""></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// components/my-style/my-style.js</span>
options<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// 默认</span>
  <span class="token comment">// styleIsolation: 'isolated'</span>
  <span class="token comment">// styleIsolation: &quot;apply-shared&quot;,</span>
  styleIsolation<span class="token operator">:</span> <span class="token string">&quot;shared&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p><img src="/applet/native/31.png" alt=""></p> <h2 id="组件和页面通信"><a href="#组件和页面通信" class="header-anchor">#</a> 组件和页面通信</h2> <ul><li>很多情况下，组件内展示的内容（数据、样式、标签），并不是在组件内写死的，而且可以由使用者来决定</li></ul> <p><img src="/applet/native/32.png" alt=""></p> <h3 id="向组件传递数据-properties"><a href="#向组件传递数据-properties" class="header-anchor">#</a> 向组件传递数据 - properties</h3> <ul><li>给组件传递数据(父组件传子组件)：
<ul><li>大部分情况下，组件只负责布局和样式，内容是由使用组件的对象决定的。</li> <li>所以，我们经常需要从外部传递数据给我们的组件，让我们的组件来进行展示。如何传递呢？</li> <li>使用 <code>properties</code> 属性：</li></ul></li> <li>支持的类型：
<ul><li>String、Number、Boolean</li> <li>Object、Array、null（不限制类型）</li></ul></li></ul> <h3 id="向组件传递样式-externalclasses"><a href="#向组件传递样式-externalclasses" class="header-anchor">#</a> 向组件传递样式 - externalClasses</h3> <ul><li>给组件传递样式：
<ul><li>有时候，我们不希望将样式在组件内固定不变，而是外部可以决定样式。</li> <li>这个时候，我们可以使用 externalClasses 属性：
<ul><li>在 Component 对象中，定义 externalClasses 属性</li> <li>在组件内的 wxml 中使用 externalClasses 属性中的 class</li> <li>在页面中传入对应的 class，并且给这个 class 设置样式</li></ul></li></ul></li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--components/my-prop/my-prop.wxml--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>my-class<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{title}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// components/my-prop/my-prop.js</span>
properties<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// title:String</span>
  title<span class="token operator">:</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> String<span class="token punctuation">,</span>
    value<span class="token operator">:</span> <span class="token string">'我是默认的标题'</span><span class="token punctuation">,</span>
    <span class="token function">observer</span><span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>oldValue<span class="token punctuation">,</span> newValue<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
externalClasses<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'my-class'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">// home.json</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;usingComponents&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;my-prop&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/components/my-prop/my-prop&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--  pages/home/home.wxml --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Hello World<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-prop</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>哈哈哈<span class="token punctuation">'</span></span> <span class="token attr-name">my-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>red<span class="token punctuation">'</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-prop</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>呵呵呵<span class="token punctuation">'</span></span> <span class="token attr-name">my-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>blue<span class="token punctuation">'</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-prop</span> <span class="token attr-name">titleClass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>pink<span class="token punctuation">'</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><div class="language-css extra-class"><pre class="language-css"><code><span class="token comment">/* pages/home/home.wxss */</span>
<span class="token selector">.title</span> <span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 50rpx<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.red</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.blue</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.pink</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> pink<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="/applet/native/34.png" alt=""></p> <p><img src="/applet/native/33.png" alt=""></p> <h3 id="组件向外传递事件-自定义事件"><a href="#组件向外传递事件-自定义事件" class="header-anchor">#</a> 组件向外传递事件 – 自定义事件</h3> <ul><li>有时候是自定义组件内部发生了事件，需要告知使用者，这个时候可以使用自定义事件</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--components/my-event/my-event.wxml--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mini<span class="token punctuation">&quot;</span></span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>increment<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>+1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// components/my-event/my-event.js</span>
<span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// console.log('+1')</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">triggerEvent</span><span class="token punctuation">(</span><span class="token string">'increment'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'codertao'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">19</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">// home.json</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;usingComponents&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;my-event&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/components/my-event/my-event&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--  pages/home/home.wxml --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>当前计数:{{count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-event</span> <span class="token attr-name"><span class="token namespace">bind:</span>increment</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>increment<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// pages/home/home.js</span>
data<span class="token operator">:</span> <span class="token punctuation">{</span>
  count<span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function">increment</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// console.log('+1')</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    count<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>detail<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p><img src="/applet/native/36.png" alt=""></p> <p><img src="/applet/native/35.png" alt=""></p> <h3 id="自定义组件练习"><a href="#自定义组件练习" class="header-anchor">#</a> 自定义组件练习</h3> <p>我们做一个导航栏最常见的一个小功能</p> <p><img src="/applet/native/37.png" alt=""></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--components/t-tab/t-tab.wxml--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>block</span> <span class="token attr-name"><span class="token namespace">wx:</span>for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{titles}}<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">wx:</span>key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>*this<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>item {{currentIndex == index ? <span class="token punctuation">&quot;</span>active<span class="token punctuation">&quot;</span>: <span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span>}}<span class="token punctuation">'</span></span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>itemClick<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{index}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span><span class="token punctuation">&gt;</span></span>{{item}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>block</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-css extra-class"><pre class="language-css"><code><span class="token comment">/* components/t-tab/t-tab.wxss */</span>
<span class="token selector">.container</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 88rpx<span class="token punctuation">;</span>
  <span class="token property">line-height</span><span class="token punctuation">:</span> 88rpx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.item</span> <span class="token punctuation">{</span>
  <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.active</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.active text</span> <span class="token punctuation">{</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 10rpx 0<span class="token punctuation">;</span>
  <span class="token property">border-bottom</span><span class="token punctuation">:</span> 5rpx solid red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// components/t-tab/t-tab.js</span>
properties<span class="token operator">:</span> <span class="token punctuation">{</span>
  titles<span class="token operator">:</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> Array<span class="token punctuation">,</span>
    value<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
data<span class="token operator">:</span> <span class="token punctuation">{</span>
  currentIndex<span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
methods<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token function">itemClick</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// console.log('+++')</span>
  <span class="token keyword">const</span> index <span class="token operator">=</span> event<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>index
  <span class="token keyword">const</span> title <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span>titles<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    currentIndex<span class="token operator">:</span> index
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">triggerEvent</span><span class="token punctuation">(</span><span class="token string">'tab-item-click'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> title <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">// home.json</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;usingComponents&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;t-tab&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/components/t-tab/t-tab&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--  pages/home/home.wxml --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>t-tab</span> <span class="token attr-name">titles</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{[<span class="token punctuation">'</span>流行<span class="token punctuation">'</span>,<span class="token punctuation">'</span>新款<span class="token punctuation">'</span>,<span class="token punctuation">'</span>精选<span class="token punctuation">'</span>]}}<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">bind:</span>tab-item-click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tabItemClick<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// pages/home/home.js</span>
<span class="token function">tabItemClick</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>detail<span class="token punctuation">.</span>title<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p><img src="/applet/native/38.png" alt=""></p> <h3 id="页面直接调用组件方法"><a href="#页面直接调用组件方法" class="header-anchor">#</a> 页面直接调用组件方法</h3> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--components/my-sel/my-sel.wxml--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>当前计数:{{count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// components/my-sel/my-sel.js</span>
data<span class="token operator">:</span> <span class="token punctuation">{</span>
  count<span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">// home.json</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;usingComponents&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;my-sel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/components/my-sel/my-sel&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--pages/home/home.wxml--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-sel</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selId<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selClass<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mini<span class="token punctuation">&quot;</span></span> <span class="token attr-name">bindtap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>increment<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>+1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// console.log('------')</span>
  <span class="token comment">// 获取sel组件对象</span>
  <span class="token comment">// 调用时需要传入一个匹配选择器(class或者id或者其他)(推荐用id,class在写样式的时候容易出现重复,而id是唯一的)</span>
  <span class="token comment">// const mySel = this.selectComponent('.selClass')</span>
  <span class="token keyword">const</span> mySel <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">selectComponent</span><span class="token punctuation">(</span><span class="token string">'#selId'</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> selCount <span class="token operator">=</span> mySel<span class="token punctuation">.</span>data<span class="token punctuation">.</span>count
  <span class="token comment">// console.log(mySel)</span>

  <span class="token comment">// 调用sel组件的setData修改组件count的值</span>
  mySel<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    count<span class="token operator">:</span> selCount <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p><img src="/applet/native/39.png" alt=""></p> <h2 id="插槽"><a href="#插槽" class="header-anchor">#</a> 插槽</h2> <ul><li>slot 翻译为插槽：
<ul><li>在生活中很多地方都有插槽，电脑的 USB 插槽，插板当中的电源插槽。</li> <li>插槽的目的是让我们原来的设备具备更多的扩展性。</li> <li>比如电脑的 USB 我们可以插入 U 盘、硬盘、手机、音响、键盘、鼠标等等。</li></ul></li> <li>组件的插槽：
<ul><li>组件的插槽也是为了让我们封装的组件更加具有扩展性。</li> <li>让使用者可以决定组件内部的一些内容到底展示什么。</li></ul></li> <li>栗子：移动网站中的导航栏。
<ul><li>移动开发中，几乎每个页面都有导航栏。</li> <li>导航栏我们必然会封装成一个插件，比如 nav-bar 组件。</li> <li>一旦有了这个组件，我们就可以在多个页面中复用了。</li></ul></li> <li>但是，每个页面的导航是一样的吗？类似右图</li></ul> <h3 id="单个插槽的使用"><a href="#单个插槽的使用" class="header-anchor">#</a> 单个插槽的使用</h3> <ul><li>除了内容和样式可能由外界决定之外，也可能外界想决定显示的方式
<ul><li>比如我们有一个组件定义了头部和尾部，但是中间的内容可能是一段文字，也可能是一张图片，或者是一个进
度条。</li> <li>在不确定外界想插入什么其他组件的前提下，我们可以在组件内预留插槽：</li></ul></li></ul> <h3 id="多个插槽的使用"><a href="#多个插槽的使用" class="header-anchor">#</a> 多个插槽的使用</h3> <ul><li>有时候为了让组件更加灵活, 我们需要定义多个插槽：</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--components/my-slot/my-slot.wxml--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>我是组件的头部<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 给插槽起个name --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>slot1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>slot2<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>slot3<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>我是组件的尾部<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// components/my-slot/my-slot.js</span>

<span class="token comment">// 开启使用多个插槽</span>
options<span class="token operator">:</span> <span class="token punctuation">{</span>
  multipleSlots<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">// home.json</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;usingComponents&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;my-slot&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/components/my-slot/my-slot&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--pages/home/home.wxml--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-slot</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 通过name调用不同的插槽 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slider</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>slot2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slider</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mini<span class="token punctuation">&quot;</span></span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>slot1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>slot3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>哈哈哈<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-slot</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><img src="/applet/native/40.png" alt=""></p> <h2 id="component-构造器"><a href="#component-构造器" class="header-anchor">#</a> Component 构造器</h2> <ul><li>Component 构造器用户创建我们的自定义组件对象, 调用 Component 时, 可以传入属性、数据、方法等</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// components/my-slot/my-slot.js</span>
<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">/**
   * 组件的属性列表
   */</span>
  properties<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">/**
   * 组件的初始数据
   */</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">/**
   * 组件的方法列表
   */</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">/**
   * 组件的额外配置
   */</span>
  options<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 外界给组件传入额外的样式</span>
  externalClasses<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// 可以监听properties/data的改变</span>
  observers<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">/**
   * 组件中监听生命周期函数
   */</span>
  <span class="token comment">// 监听所在页面的生命周期</span>
  pageLifetimes<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;监听组件所在页面显示时回调&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;监听组件所在页面隐藏时回调&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;监听页面尺寸的改变&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 监听组件本身的生命周期</span>
  lifetimes<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;组件被创建&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">attached</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;组件被添加到页面中&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">ready</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;组件被渲染出来&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">movied</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;组件被移动到节点树另一个位置&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">detached</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;组件被移除&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>📚 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/" target="_blank" rel="noopener noreferrer">官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2021年6月3日星期四晚上11点13分</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/applet/native/handleEvent.html" class="prev">
        事件系统
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.cce02172.js" defer></script><script src="/assets/js/2.032fb0bf.js" defer></script><script src="/assets/js/12.c2046a5b.js" defer></script>
  </body>
</html>
